{"version":3,"sources":["../src/index.js"],"names":["fixedArgs","name","short","type","description","argv","option","args","run","mode","options","opeCreator","ZaicoOpes","help","process","exit","rc","JsonUtil","loadJson","processFiles","targets","then","res","catch","e","console","log"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,CAAE;AAClBC,QAAM,OADY;AAElBC,SAAO,GAFW;AAGlBC,QAAM,SAHY;AAIlBC,eAAa;AAJK,CAAF,EAKf;AACDH,QAAM,QADL;AAEDE,QAAM,SAFL;AAGDC,eAAa;AAHZ,CALe,EASf;AACDH,QAAM,OADL;AAEDC,SAAO,GAFN;AAGDC,QAAM,SAHL;AAIDC,eAAa;AAJZ,CATe,EAcf;AACDH,QAAM,QADL;AAEDE,QAAM,SAFL;AAGDC,eAAa;AAHZ,CAde,EAkBf;AACDH,QAAM,QADL;AAEDE,QAAM,SAFL;AAGDC,eAAa;AAHZ,CAlBe,EAsBf;AACDH,QAAM,MADL;AAEDC,SAAO,GAFN;AAGDC,QAAM,QAHL;AAIDC,eAAa;AAJZ,CAtBe,CAAlB,C,CAL0B;;;AAkC1BC,eAAKC,MAAL,WAAiBN,SAAjB;AACA,IAAMO,OAAOF,eAAKG,GAAL,EAAb;AACA,IAAMC,OAAOF,KAAKG,OAAL,CAAaD,IAAb,IAAqB,QAAlC;AACA,IAAME,aAAaC,mBAAUH,IAAV,CAAnB;;AAEA,IAAI,CAACE,UAAL,EAAiB;AACfN,iBAAKQ,IAAL;AACAC,UAAQC,IAAR,CAAa,CAAb;AACD,CAHD,MAGO;AACL,MAAI;AACF,QAAMC,KAAKC,mBAASC,QAAT,CAAkB,oBAAlB,CAAX;AACAP,eAAWK,EAAX,EAAeT,KAAKG,OAApB,EAA6BS,YAA7B,CAA0CZ,KAAKa,OAA/C,EAAwDC,IAAxD,CAA6D,eAAO;AAClE,UAAI,CAACC,GAAL,EAAU;AACRjB,uBAAKQ,IAAL;AACAC,gBAAQC,IAAR,CAAa,CAAb;AACD;AACF,KALD,EAKGQ,KALH,CAKS,aAAK;AACZ,YAAMC,CAAN;AACD,KAPD;AAQD,GAVD,CAUE,OAAOA,CAAP,EAAU;AACVC,YAAQC,GAAR,CAAYF,CAAZ;AACAV,YAAQC,IAAR,CAAa,CAAb;AACD;AACF","file":"index.js","sourcesContent":["import 'babel-polyfill';  // eslint-disable-line import/no-extraneous-dependencies\nimport argv from 'argv';\nimport ZaicoOpes from './ZaicoOpe';\nimport JsonUtil from './util/JsonUtil'\n\nconst fixedArgs = [ {\n  name: 'cache',\n  short: 'c',\n  type: 'boolean',\n  description: 'enable cache',\n}, {\n  name: 'dryrun',\n  type: 'boolean',\n  description: 'dry run mode',\n}, {\n  name: 'force',\n  short: 'f',\n  type: 'boolean',\n  description: 'force mode',\n}, {\n  name: 'latest',\n  type: 'boolean',\n  description: 'keep latest in deleteDuplicate mode',\n}, {\n  name: 'oldest',\n  type: 'boolean',\n  description: 'keep oldest in deleteDuplicate mode',\n}, {\n  name: 'mode',\n  short: 'm',\n  type: 'string',\n  description: 'run mode. verify(default), add, update, delete, updateAdd, cache, deleteDuplicate',\n} ];\n\nargv.option([ ...fixedArgs]);\nconst args = argv.run();\nconst mode = args.options.mode || 'verify';\nconst opeCreator = ZaicoOpes[mode];\n\nif (!opeCreator) {\n  argv.help();\n  process.exit(1);\n} else {\n  try {\n    const rc = JsonUtil.loadJson('./.zaicoregisterrc');\n    opeCreator(rc, args.options).processFiles(args.targets).then(res => {\n      if (!res) {\n        argv.help();\n        process.exit(2);\n      }\n    }).catch(e => {\n      throw e;\n    });\n  } catch (e) {\n    console.log(e);\n    process.exit(3);\n  }\n}\n"]}
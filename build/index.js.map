{"version":3,"sources":["../src/index.js"],"names":["fixedArgs","name","short","type","description","argv","option","args","run","mode","options","opeCreator","ZaicoOpes","help","process","exit","rc","JSON","parse","fs","readFileSync","processFiles","targets","then","res","catch","console","log","e"],"mappings":";;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,YAAY,CAAE;AAClBC,QAAM,OADY;AAElBC,SAAO,GAFW;AAGlBC,QAAM,SAHY;AAIlBC,eAAa;AAJK,CAAF,EAKf;AACDH,QAAM,MADL;AAEDC,SAAO,GAFN;AAGDC,QAAM,QAHL;AAIDC,eAAa;AAJZ,CALe,CAAlB,C,CAL0B;;;AAiB1BC,eAAKC,MAAL,WAAiBN,SAAjB;AACA,IAAMO,OAAOF,eAAKG,GAAL,EAAb;AACA,IAAMC,OAAOF,KAAKG,OAAL,CAAaD,IAAb,IAAqB,QAAlC;AACA,IAAME,aAAaC,mBAAUH,IAAV,CAAnB;;AAEA,IAAI,CAACE,UAAL,EAAiB;AACfN,iBAAKQ,IAAL;AACAC,UAAQC,IAAR,CAAa,CAAb;AACD,CAHD,MAGO;AACL,MAAMC,KAAKC,KAAKC,KAAL,CAAWC,aAAGC,YAAH,CAAgB,oBAAhB,EAAsC,MAAtC,CAAX,CAAX;AACAT,aAAWK,EAAX,EAAeT,KAAKG,OAApB,EAA6BW,YAA7B,CAA0Cd,KAAKe,OAA/C,EAAwDC,IAAxD,CAA6D,eAAO;AAClE,QAAI,CAACC,GAAL,EAAU;AACRnB,qBAAKQ,IAAL;AACAC,cAAQC,IAAR,CAAa,CAAb;AACD;AACF,GALD,EAKGU,KALH,CAKS,aAAK;AACZC,YAAQC,GAAR,CAAYC,CAAZ;AACD,GAPD;AAQD","file":"index.js","sourcesContent":["import 'babel-polyfill';  // eslint-disable-line import/no-extraneous-dependencies\nimport fs from 'fs';\nimport argv from 'argv';\nimport ZaicoOpes from './ZaicoOpe';\n\nconst fixedArgs = [ {\n  name: 'cache',\n  short: 'c',\n  type: 'boolean',\n  description: 'enable cache',\n}, {\n  name: 'mode',\n  short: 'm',\n  type: 'string',\n  description: 'run mode. verify(default), add, update, delete, updateAdd, cache',\n} ];\n\nargv.option([ ...fixedArgs]);\nconst args = argv.run();\nconst mode = args.options.mode || 'verify';\nconst opeCreator = ZaicoOpes[mode];\n\nif (!opeCreator) {\n  argv.help();\n  process.exit(1);\n} else {\n  const rc = JSON.parse(fs.readFileSync('./.zaicoregisterrc', 'utf8'));\n  opeCreator(rc, args.options).processFiles(args.targets).then(res => {\n    if (!res) {\n      argv.help();\n      process.exit(2);\n    }\n  }).catch(e => {\n    console.log(e);\n  });\n}\n"]}